<!DOCTYPE html>
<html>
<head>
    <title>Upload file</title>
	<meta charset="utf-8" />
</head>
<body>
    Kiểu upload:
    <select id="uploadType">
        <option value="artists">Artist</option>
        <option value="users">Avatar</option>
        <option value="albums">Album</option>
        <option value="playlists">Playlist</option>
        <option value="songs">Song</option>
    </select>
    <br />
    Id: <input type="text" id="idUpload" placeholder="Id upload" /><br />
    Token: <input type="text" id="token" placeholder="Token" value="e6rPkHXGdfGSC5rU6nzpGiZDX4jhnvrjdByeJpa4CuidzA6LTvYwsi408WUyHvrKxjSlfxgJe_hCkJ4C6koUB1JuluVv1befFUB55W7gZFFfgW2OculgRGrofvOy25cpshZSWQsPGLZr_tpbCPWYHemNgzpTLvYHyNEGr5pbb81dHE9QeQoiUV0AXYfDVDr02NNJTbDOsCA9l3Lym-Urko9bEoI7fLTEscQgVh9mvfNSUc8Xo4sWGUPZziuhljPW8l27nVdJXh2HECRPcCTruDoNxzcdF02UFTtOj2jBYtLELFgxHgc16eoNRrouwg4h" /><br />
    <form id="data" method="post" action="/api/songs/2/upload" enctype="multipart/form-data">
        File: <input type="file" name="file" /><br />
        <input type="submit" value="Upload" />
    </form>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script type="text/javascript">
        $('form#data').submit(function (event) {
            // Disable the default form submission
            event.preventDefault();
            event.stopImmediatePropagation();

            var type = $('#uploadType').val();
            var id = $('#idUpload').val();
            var token = $('#token').val();
            if (id.length === 0) {
                alert("Nhập id");
                return false;
            }

            var url = `http://localhost:8080/api/${type}/${id}/upload`;
            // Grab all form data
            var formData = new FormData($(this)[0]);
            $.ajax({
                url: url,
                type: 'POST',
                data: formData,
                headers: {
                    Authorization: 'Bearer ' + token
                },
                async: false,
                cache: false,
                contentType: false,
                processData: false,
                success: function (data) {
                    alert(data);
                }
            });
            return false;
        });
    </script>
</body>
</html>
