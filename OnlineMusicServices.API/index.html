<!DOCTYPE html>
<html>
<head>
    <title>Upload file</title>
	<meta charset="utf-8" />
</head>
<body>
    Kiểu upload:
    <select id="uploadType">
        <option value="artists">Artist</option>
        <option value="users">Avatar</option>
        <option value="albums">Album</option>
        <option value="playlists">Playlist</option>
        <option value="songs">Song</option>
    </select>
    <br />
    Id: <input type="text" id="idUpload" placeholder="Id upload" /><br />
    Token: <input type="text" id="token" placeholder="Token" value="EsOB9T6qjCcKsIL0VTUNuiP47hpBMeQYmqYWsnq0s527CPIpO9yZ7iRwbKKEBvyejfm-TMyQsc7dsLB3IUVPQvv6d77e7YUEyu6e1Hm7vrVflKH1i_uX505kt0R0Yy0C5ZT9gaGoWaEuzVKPDgaygPZ-x9EfPkEiTaImiCnUEYh6ONIlbP5MF75BaoR8RKgEzjDjPzGW_vF8a_E_18brwK_ZWE5y8oAwIS8VFW1Xgcn1rW4EUwn88LKSXmIs_hemqNOGvQ_tqDwUKfPmuE3zyy635_fs6nHpwmjmNo9263ZPDqwJtzqmqfD2mG5sJ2Zs" /><br />
    <form id="data" method="post" action="/api/songs/2/upload" enctype="multipart/form-data">
        File: <input type="file" name="file" /><br />
        <input type="submit" value="Upload" />
    </form>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script type="text/javascript">
        $('form#data').submit(function (event) {
            // Disable the default form submission
            event.preventDefault();
            event.stopImmediatePropagation();

            var type = $('#uploadType').val();
            var id = $('#idUpload').val();
            var token = $('#token').val();
            if (id.length === 0) {
                alert("Nhập id");
                return false;
            }

            // Admin token: EsOB9T6qjCcKsIL0VTUNuiP47hpBMeQYmqYWsnq0s527CPIpO9yZ7iRwbKKEBvyejfm-TMyQsc7dsLB3IUVPQvv6d77e7YUEyu6e1Hm7vrVflKH1i_uX505kt0R0Yy0C5ZT9gaGoWaEuzVKPDgaygPZ-x9EfPkEiTaImiCnUEYh6ONIlbP5MF75BaoR8RKgEzjDjPzGW_vF8a_E_18brwK_ZWE5y8oAwIS8VFW1Xgcn1rW4EUwn88LKSXmIs_hemqNOGvQ_tqDwUKfPmuE3zyy635_fs6nHpwmjmNo9263ZPDqwJtzqmqfD2mG5sJ2Zs
            var url = `http://localhost:8080/api/${type}/${id}/upload`;
            // Grab all form data
            var formData = new FormData($(this)[0]);
            $.ajax({
                url: url,
                type: 'POST',
                data: formData,
                headers: {
                    Authorization: 'Bearer ' + token
                },
                async: false,
                cache: false,
                contentType: false,
                processData: false,
                success: function (data) {
                    alert(data);
                }
            });
            return false;
        });
    </script>
</body>
</html>
